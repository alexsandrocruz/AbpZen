@using Microsoft.AspNetCore.Mvc.Localization
@using Microsoft.Extensions.Options
@using Volo.CmsKit.Contact
@using Volo.CmsKit.Localization
@model Volo.CmsKit.Pro.Web.Pages.Public.Shared.Components.Contact.ContactViewModel
@addTagHelper *, Owl.reCAPTCHA
@inject IHtmlLocalizer<CmsKitResource> L
@inject IOptions<CmsKitContactOptions> CmsKitContactOptions

<div class="cms-contact-area container" data-widget="@Model.ContactName">
    <form class="contact-form">
        <abp-input asp-for="@Model.Name" />

        <abp-input asp-for="@Model.Subject" />

        <abp-input asp-for="@Model.EmailAddress" />

        <abp-input asp-for="@Model.Message" />

        <abp-input asp-for="@Model.RecaptchaToken" />

        <div class="mb-3">
            <div class="d-grid gap-2">
                <abp-button class="btn btn-send-message" type="submit" button-type="Danger">@L["SendMessage"] <i class="fa fa-long-arrow-right"></i></abp-button>
            </div>
        </div>
    </form>
</div>

@if (CmsKitContactOptions.Value.IsRecaptchaEnabled)
{
    <recaptcha-script-v3 />
    <script>
        function callback(token) {
            document.getElementById("RecaptchaToken").value = token;
        }
    </script>
    <recaptcha-script-v3-js action="contact_us" callback="callback" />
}
