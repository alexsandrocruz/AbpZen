<abp-modal
  [(visible)]="modalVisible"
  [busy]="modalBusy"
  [options]="{ size: 'md' }"
  (visibleChange)="onModalVisibleChange($event)"
>
  <ng-template #abpHeader>
    <h5>{{ 'AbpIdentity::SetPassword' | abpLocalization }} - {{ tenantName }}</h5>
  </ng-template>
  <ng-template #abpBody>
    @if (form) {
      <form
        (ngSubmit)="save(ngForm)"
        #ngForm="ngForm"
        id="setPasswordForm"
        [formGroup]="form"
        validateOnSubmit
        [markAsDirtyWhenSubmit]="false"
      >
        <div class="mb-3">
          <label for="adminName" class="form-label">{{ 'Saas::UserName' | abpLocalization }}</label>
          <input
            ngbTooltip="{{ 'Saas::UserNameTooltip' | abpLocalization }}"
            type="text"
            class="form-control"
            id="adminName"
            name="adminName"
            formControlName="adminName"
          />
        </div>

        <div class="mb-3">
          <label for="password" class="form-label">{{ 'Saas::Password' | abpLocalization }}</label>
          <div class="input-group" validationStyle validationTarget>
            <input
              [type]="fieldTextType ? 'text' : 'password'"
              id="password"
              name="password"
              formControlName="password"
              class="form-control flex-fill"
              autofocus
            />
            <button
              class="btn btn-secondary"
              type="button"
              (click)="fieldTextType = !fieldTextType"
            >
              <i class="fa fa-eye{{ !fieldTextType ? '-slash' : '' }}"></i>
            </button>
            <button
              class="btn btn-primary rounded-end"
              ngbTooltip="{{ 'AbpIdentity::GenerateRandomPasswordTooltip' | abpLocalization }}"
              id="generate-random-password-button"
              type="button"
              (click)="generatePassword()"
            >
              <i class="fa fa-refresh" aria-hidden="false"></i>
            </button>
          </div>
        </div>
      </form>
    }
  </ng-template>

  <ng-template #abpFooter>
    <button type="button" class="btn btn-outline-primary" abpClose>
      {{ 'Saas::Cancel' | abpLocalization }}
    </button>
    <abp-button iconClass="fa fa-check" buttonType="submit" formName="setPasswordForm">{{
      'Saas::Save' | abpLocalization
    }}</abp-button>
  </ng-template>
</abp-modal>
